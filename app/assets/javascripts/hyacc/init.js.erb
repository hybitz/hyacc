hyacc.init_datepicker_within = function(parent) {
  parent = parent || 'body';

  $(parent).find('.datepicker').each(function() {
    $(this).datepicker({
      dateFormat: 'yy-mm-dd',
      changeYear: true,
      changeMonth: true,
      buttonImage: '<%= image_path('calendar.gif') %>',
      buttonImageOnly: true,
      beforeShow: function() {
        if ($(this).attr('readonly')) { return false; }
      }
    });
  });

  $(parent).find('.ympicker').each(function() {
    $(this).ympicker({
      dateFormat: 'yy-mm',
      changeYear: true,
      buttonImage: '<%= image_path('calendar.gif') %>',
      buttonImageOnly: true,
      beforeShow: function() {
        if ($(this).attr('readonly')) { return false; }
      }
    });
  });
};

hyacc.init_datepicker = function() {
  hyacc.init_datepicker_within(null);
};

