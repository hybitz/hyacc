<%= flash_notice %>

<script>
  var company = new hyacc.Company({selector: 'table.company'});
</script>

<div class="my-4 table-responsive col-md-5">
  <table class="table company">
    <tr>
      <th style="width: 15em;"><%= company_label(@company.type_of) %></th>
      <td><%= @company.name %></td>
      <td style="width: 10em;"></td>
    </tr>

    <% unless @company.personal? %>
      <tr>
        <th>会社の形態</th>
        <td><%= @company.company_type_name %></td>
        <td></td>
      </tr>
    <% end %>
  
    <tr>
      <th>創立年月日</th>
      <td><%= @company.founded_date %></td>
      <td></td>
    </tr>
    <tr>
      <th>ロゴ</th>
      <td><%= image_tag(show_logo_mm_company_path(@company)) if @company.logo.present? %></td>
      <td class="text-center">
        <%= link_to '変更', edit_mm_company_path(@company, field: 'logo'), class: 'btn btn-light btn-small', onclick: 'company.edit(this); return false;' %>
        <%= button_tag '更新', onclick: 'company.update(this);', class: 'btn btn-light btn-small' %>
        <%= button_tag 'キャンセル', onclick: 'company.cancel(this)', class: 'btn btn-light btn-small' %>
      </td>
    </tr>
    <tr>
      <th>管理者メールアドレス</th>
      <td><%= @company.admin_email %></td>
      <td class="text-center">
        <%= link_to '変更', edit_mm_company_path(@company, field: 'admin'), class: 'btn btn-light btn-small', onclick: 'company.edit(this); return false;' %>
        <%= button_tag '更新', onclick: 'company.update(this);' %>
        <%= button_tag 'キャンセル', onclick: 'company.cancel(this)' %>
      </td>
    </tr>
  
    <% unless @company.personal? %>
      <tr>
        <th>法人番号</th>
        <td><%= @company.enterprise_number %></td>
        <td class="text-center">
          <%= link_to '変更', edit_mm_company_path(@company, field: 'enterprise_number'), class: 'btn btn-light btn-small', onclick: 'company.edit(this); return false;' %>
          <%= button_tag '更新', onclick: 'company.update(this);' %>
          <%= button_tag 'キャンセル', onclick: 'company.cancel(this)' %>
        </td>
      </tr>
      <tr>
        <th>社会保険事業所整理番号</th>
        <td><%= @company.social_insurance_number %></td>
        <td class="text-center">
          <%= link_to '変更', edit_mm_company_path(@company, field: 'social_insurance_number'), class: 'btn btn-light btn-small', onclick: 'company.edit(this); return false;' %>
          <%= button_tag '更新', onclick: 'company.update(this);' %>
          <%= button_tag 'キャンセル', onclick: 'company.cancel(this)' %>
        </td>
      </tr>
      <tr>
        <th>労働保険番号</th>
        <td><%= @company.labor_insurance_number %></td>
        <td class="text-center">
          <%= link_to '変更', edit_mm_company_path(@company, field: 'labor_insurance_number'), class: 'btn btn-light btn-small', onclick: 'company.edit(this); return false;' %>
          <%= button_tag '更新', onclick: 'company.update(this);' %>
          <%= button_tag 'キャンセル', onclick: 'company.cancel(this)' %>
        </td>
      </tr>
      <tr>
        <th>資本金</th>
        <td>
          <% if @capital.to_i > 0 %>
            <%= to_amount( @capital ) %>円
          <% end %>
        </td>
        <td></td>
      </tr>
      <tr>
        <th>年度の開始月</th>
        <td><%= @company.start_month_of_fiscal_year %>月</td>
        <td></td>
      </tr>
      <tr>
        <th>給与支払日</th>
        <td><%= @company.pay_day_definition_jp %></td>
        <td class="text-center">
          <%= link_to '変更', edit_mm_company_path(@company, field: 'pay_day_definition'), class: 'btn btn-light btn-small', onclick: 'company.edit(this); return false;' %>
          <%= button_tag '更新', :onclick => 'company.update(this);' %>
          <%= button_tag 'キャンセル', :onclick => 'company.cancel(this)' %>
        </td>
      </tr>
    <% end %>
  
    <tr>
      <th>事業区分</th>
      <td><%= @company.business_type_name %></td>
      <td class="text-center">
        <%= link_to '変更', edit_mm_company_path(@company, field: 'business_type'), class: 'btn btn-light btn-small', onclick: 'company.edit(this); return false;' %>
        <%= button_tag '更新', :onclick => 'company.update(this);' %>
        <%= button_tag 'キャンセル', :onclick => 'company.cancel(this)' %>
      </td>
    </tr>
    <tr>
      <th>雇用保険の事業区分</th>
      <td><%= @company.employment_insurance_type_name %></td>
      <td class="text-center">
        <%= link_to '変更', edit_mm_company_path(@company, field: 'employment_insurance_type'), class: 'btn btn-light btn-small', onclick: 'company.edit(this); return false;' %>
        <%= button_tag '更新', :onclick => 'company.update(this);' %>
        <%= button_tag 'キャンセル', :onclick => 'company.cancel(this)' %>
      </td>
    </tr>
    <tr>
      <th>退職金積立の開始時期</th>
      <td><%= "入社#{@company.retirement_savings_after}年目から" if @company.retirement_savings_after %></td>
      <td class="text-center">
        <%= link_to '変更', edit_mm_company_path(@company, field: 'retirement_savings_after'), class: 'btn btn-light btn-small', onclick: 'company.edit(this); return false;' %>
        <%= button_tag '更新', :onclick => 'company.update(this);' %>
        <%= button_tag 'キャンセル', :onclick => 'company.cancel(this)' %>
      </td>
    </tr>
  </table>
</div>

<%= render 'show_business_offices' %>
