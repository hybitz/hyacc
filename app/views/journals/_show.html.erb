<script>
  $(document).ready(function() {
    $('#journal_show_form').find('input').attr('disabled', true);
    $('#journal_show_form').find('select').attr('disabled', true);
  });
</script>

<form id="journal_show_form">
  <div style="margin:5px;">
    <table>
      <tr>
        <th>年月</th>
        <th>日</th>
        <th>伝票区分</th>
        <th>摘要</th>
        <th>借方金額</th>
        <th>貸方金額</th>
      </tr>
    
      <tr>
        <td><%= @journal.ym %></td>
        <td><%= @journal.day %></td>
        <td class="slipType"><%= @journal.slip_type_name %></td>
        <td><%= @journal.remarks %></td>
        <td class="amount"><%= to_amount(@journal.amount) %></td>
        <td class="amount"><%= to_amount(@journal.amount) %></td>
      </tr>
    </table>
    
    <% if @journal.receipt_path %>
      <table style="margin-top: 10px;">
        <tr>
          <th>領収書</th>
          <td>
            <div id="receipt_status">
              （<%= link_to"#{File::basename(@journal.receipt_path)}", {:action => :download_receipt, :id => @journal} %>）
            </div>
        </tr>
      </table>
    <% end %>
  
    <table class="journal_details">
      <tr>
        <th>貸借</th>
        <th>勘定科目</th>
        <th>補助科目</th>
        <% if branch_mode %><th>計上部門</th><% end %>
        <th>金額</th>
        <th colspan="2">消費税</th>
        <th>合計</th>
        <th>
          すべて<a href="#" onclick="journal.flip_details(true); return false;">表示</a>／<a href="#" onclick="journal.flip_details(false); return false;">隠す</a>
        </th>
      </tr>
      
      <% @journal.normal_details.each_with_index do |jd, i| %>
        <%= render 'show_detail', :jd => jd, :index => i %>
      <% end %>
    </table>
  </div>
</form>
